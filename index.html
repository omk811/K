<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
<title>Ø¯Ø±ÙˆØ³ Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ | Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</title>
<meta name="description" content="Ù…Ù†ØµØ© Ø¯Ø±ÙˆØ³ Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ">

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#8b5cf6">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“š</text></svg>">

<!-- Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root {
  --primary: #8b5cf6;
  --primary-light: #a78bfa;
  --primary-dark: #7c3aed;
  --secondary: #10b981;
  --accent: #facc15;
  --bg1: #0f172a;
  --bg2: #1e293b;
  --card: rgba(30, 41, 59, 0.85);
  --card-hover: rgba(30, 41, 59, 0.95);
  --text: #f8fafc;
  --text-secondary: #cbd5e1;
  --muted: #94a3b8;
  --radius: 20px;
  --radius-sm: 12px;
  --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 20px 40px rgba(0, 0, 0, 0.4);
  --tr: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --tr-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg1));
  background-size: 400% 400%;
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.7;
  animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.container {
  max-width: 1400px;
  margin: auto;
  padding: 20px;
  position: relative;
  z-index: 1;
}

/* Header Styles */
.header {
  text-align: center;
  margin-bottom: 50px;
  position: relative;
  padding-top: 20px;
}

.hero-badge {
  display: inline-block;
  padding: 12px 28px;
  border-radius: 50px;
  background: rgba(139, 92, 246, 0.15);
  border: 2px solid rgba(139, 92, 246, 0.3);
  font-weight: 700;
  margin-bottom: 20px;
  backdrop-filter: blur(10px);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4); }
  70% { box-shadow: 0 0 0 15px rgba(139, 92, 246, 0); }
  100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
}

h1 {
  font-size: clamp(2.2rem, 5.5vw, 3.5rem);
  font-weight: 900;
  background: linear-gradient(135deg, #a78bfa, #10b981, #facc15);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-size: 200% 200%;
  animation: gradientText 5s ease infinite;
  margin-bottom: 20px;
}

@keyframes gradientText {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.teacher-card {
  display: inline-flex;
  align-items: center;
  gap: 20px;
  background: rgba(30, 41, 59, 0.7);
  padding: 18px 35px;
  border-radius: 50px;
  margin: 25px 0;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(139, 92, 246, 0.2);
  transition: var(--tr);
}

.teacher-card:hover {
  transform: translateY(-5px);
  border-color: rgba(139, 92, 246, 0.5);
}

.teacher-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  font-size: 26px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.contact-btn {
  display: inline-flex;
  gap: 10px;
  align-items: center;
  padding: 14px 32px;
  border-radius: 30px;
  border: 2px solid rgba(139, 92, 246, 0.4);
  color: #a78bfa;
  text-decoration: none;
  margin-top: 20px;
  font-weight: 700;
  background: rgba(30, 41, 59, 0.6);
  backdrop-filter: blur(10px);
  transition: var(--tr);
}

.contact-btn:hover {
  background: rgba(139, 92, 246, 0.2);
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(139, 92, 246, 0.2);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 20px;
  max-width: 600px;
  margin: 35px auto;
}

.stat-card {
  background: var(--card);
  padding: 25px 20px;
  border-radius: var(--radius-sm);
  text-align: center;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.05);
  transition: var(--tr);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
}

.stat-card:hover {
  transform: translateY(-10px);
  box-shadow: var(--shadow);
}

.stat-number {
  font-size: 2.2rem;
  font-weight: 900;
  color: var(--secondary);
  display: block;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

/* Section Header */
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 35px;
  background: rgba(30, 41, 59, 0.5);
  padding: 20px 25px;
  border-radius: var(--radius-sm);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.section-title {
  font-size: 1.6rem;
  font-weight: 800;
  display: flex;
  align-items: center;
  gap: 10px;
}

.section-title i {
  color: var(--primary);
}

.sort-options {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.sort-btn {
  padding: 10px 20px;
  border-radius: 25px;
  background: rgba(15, 23, 42, 0.7);
  border: 1px solid rgba(139, 92, 246, 0.3);
  color: var(--muted);
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-weight: 600;
  transition: var(--tr);
}

.sort-btn:hover {
  background: rgba(139, 92, 246, 0.1);
  color: #fff;
}

.sort-btn.active {
  background: rgba(139, 92, 246, 0.25);
  color: #fff;
  border-color: var(--primary);
  box-shadow: 0 5px 15px rgba(139, 92, 246, 0.2);
}

/* Lessons Grid */
.lessons-grid {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 25px;
}

@media (max-width: 768px) {
  .lessons-grid {
    grid-template-columns: 1fr;
  }
}

.lesson-card {
  background: var(--card);
  border-radius: var(--radius);
  overflow: hidden;
  transition: var(--tr);
  border: 1px solid rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  height: 100%;
  display: flex;
  flex-direction: column;
}

.lesson-card:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: var(--shadow-lg);
  border-color: rgba(139, 92, 246, 0.3);
}

.lesson-link {
  display: block;
  padding: 30px;
  color: #fff;
  text-decoration: none;
  flex-grow: 1;
}

.lesson-title {
  font-size: 1.3rem;
  font-weight: 800;
  margin-bottom: 15px;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.lesson-meta {
  display: flex;
  gap: 20px;
  margin-top: 20px;
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.lesson-meta span {
  display: flex;
  align-items: center;
  gap: 8px;
}

.lesson-meta i {
  color: var(--primary-light);
}

.lesson-views {
  color: var(--accent);
}

.lesson-date {
  color: var(--secondary);
}

.lesson-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 30px;
  background: rgba(15, 23, 42, 0.5);
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.lesson-btn {
  padding: 10px 22px;
  border-radius: 25px;
  background: linear-gradient(90deg, var(--primary), var(--primary-dark));
  color: white;
  text-decoration: none;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: var(--tr);
}

.lesson-btn:hover {
  transform: translateX(-5px);
  box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
}

/* Loading, Error, Empty States */
.loading-state, .error-state, .empty-state {
  grid-column: 1 / -1;
  text-align: center;
  padding: 80px 20px;
  background: var(--card);
  border-radius: var(--radius);
  backdrop-filter: blur(10px);
}

.loading-spinner {
  width: 60px;
  height: 60px;
  border: 5px solid rgba(139, 92, 246, 0.2);
  border-top-color: var(--primary);
  border-radius: 50%;
  margin: 0 auto 20px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Admin Button */
.admin-btn {
  position: fixed;
  bottom: 30px;
  left: 30px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: #fff;
  text-decoration: none;
  font-size: 24px;
  z-index: 100;
  box-shadow: var(--shadow);
  transition: var(--tr);
}

.admin-btn:hover {
  transform: scale(1.1) rotate(15deg);
  box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
}

/* Footer */
.footer {
  text-align: center;
  margin-top: 80px;
  padding: 40px 20px;
  color: #64748b;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  position: relative;
}

.footer::before {
  content: '';
  position: absolute;
  top: 0;
  right: 50%;
  transform: translateX(50%);
  width: 100px;
  height: 5px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  border-radius: 0 0 5px 5px;
}

/* Popup */
.ask-popup {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 9999;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.ask-popup.show {
  display: block;
}

.ask-popup__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(5px);
}

.ask-popup__box {
  width: min(90%, 500px);
  margin: 20vh auto;
  background: linear-gradient(145deg, #1e293b, #0f172a);
  color: #fff;
  border-radius: var(--radius);
  padding: 30px;
  position: relative;
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(139, 92, 246, 0.2);
  animation: popupSlide 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

@keyframes popupSlide {
  from { transform: translateY(-50px) scale(0.9); opacity: 0; }
  to { transform: translateY(0) scale(1); opacity: 1; }
}

.ask-popup__close {
  position: absolute;
  top: 15px;
  left: 15px;
  background: none;
  border: none;
  color: #fff;
  font-size: 26px;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: var(--tr);
}

.ask-popup__close:hover {
  background: rgba(255, 255, 255, 0.1);
}

.ask-popup__box h3 {
  font-size: 1.5rem;
  margin-bottom: 15px;
  color: var(--primary-light);
  display: flex;
  align-items: center;
  gap: 10px;
}

.ask-popup__box p {
  margin-bottom: 20px;
  color: var(--text-secondary);
}

.ask-popup__link {
  display: inline-block;
  padding: 12px 25px;
  background: linear-gradient(90deg, var(--secondary), #0da271);
  color: white;
  text-decoration: none;
  border-radius: var(--radius-sm);
  font-weight: 700;
  margin-top: 10px;
  transition: var(--tr);
  text-align: center;
  width: 100%;
}

.ask-popup__link:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
}

.ask-popup__btn {
  width: 100%;
  margin-top: 20px;
  padding: 14px;
  border: none;
  border-radius: var(--radius-sm);
  background: linear-gradient(90deg, #d4af37, #b8941f);
  color: #000;
  font-weight: 800;
  cursor: pointer;
  font-family: 'Cairo', sans-serif;
  font-size: 1rem;
  transition: var(--tr);
}

.ask-popup__btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(212, 175, 55, 0.3);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.5);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--primary), var(--secondary));
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--primary-light), #0da271);
}
</style>
</head>

<body>

<div class="container">
  <header class="header">
    <div class="hero-badge">
      <i class="fas fa-star"></i> ÙƒÙ„ Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ
    </div>
    <h1>ğŸ“š Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</h1>

    <div class="teacher-card">
      <div class="teacher-avatar">ğŸ‘¨â€ğŸ«</div>
      <div>
        <strong>Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</strong><br>
        <span style="color:var(--text-secondary)">Ù…Ø¹Ù„Ù… Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
      </div>
    </div>

    <a class="contact-btn" href="mailto:omk456456@gmail.com">
      <i class="fas fa-envelope"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§
    </a>

    <div class="stats-grid">
      <div class="stat-card">
        <span id="totalLessons" class="stat-number">0</span>
        <span class="stat-label">Ø¯Ø±Ø³</span>
      </div>
      <div class="stat-card">
        <span id="totalViews" class="stat-number">0</span>
        <span class="stat-label">Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
      </div>
      <div class="stat-card">
        <span id="lastUpdate" class="stat-number">-</span>
        <span class="stat-label">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«</span>
      </div>
    </div>
  </header>

  <main>
    <div class="section-header">
      <div class="section-title">
        <i class="fas fa-book-open"></i> Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
      </div>
      <div class="sort-options">
        <button class="sort-btn active" data-sort="newest">
          <i class="fas fa-sort-amount-down"></i> Ø§Ù„Ø£Ø­Ø¯Ø«
        </button>
        <button class="sort-btn" data-sort="views">
          <i class="fas fa-eye"></i> Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©
        </button>
        <button class="sort-btn" data-sort="oldest">
          <i class="fas fa-sort-amount-up"></i> Ø§Ù„Ø£Ù‚Ø¯Ù…
        </button>
      </div>
    </div>

    <ul class="lessons-grid" id="lessons">
      <li class="loading-state">
        <div class="loading-spinner"></div>
        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³...</p>
      </li>
    </ul>
  </main>

  <footer class="footer">
    Â© <span id="currentYear"></span> Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
  </footer>
</div>

<a href="admin.html" class="admin-btn">
  <i class="fas fa-cog"></i>
</a>

<!-- Popup -->
<div id="askPopup" class="ask-popup">
  <div class="ask-popup__backdrop" onclick="closeAskPopup()"></div>
  <div class="ask-popup__box">
    <button class="ask-popup__close" onclick="closeAskPopup()">Ã—</button>
    <h3><i class="fas fa-question-circle"></i> Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª</h3>
    <p>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø£Ùˆ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ©ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø²ÙŠØ§Ø±Ø© ØµÙØ­Ø© Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª:</p>
    <a class="ask-popup__link" href="https://omk811.github.io/K/index.html" target="_blank">
      <i class="fas fa-external-link-alt"></i> ØµÙØ­Ø© Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª
    </a>
    <button class="ask-popup__btn" onclick="closeAskPopup()">
      <i class="fas fa-check"></i> ÙÙ‡Ù…Øª
    </button>
  </div>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbx61Y4tVA1j_L2c2_3EoVQX7hb5Ysh5tbFvavj2M48ZwCmWvH78Qd5uwYtUwiV-BkD5tQ/exec";
let allLessons = [], currentSort = "newest";

const lessonsEl = document.getElementById("lessons");
const totalLessonsEl = document.getElementById("totalLessons");
const totalViewsEl = document.getElementById("totalViews");
const lastUpdateEl = document.getElementById("lastUpdate");

// Set current year in footer
document.getElementById("currentYear").textContent = new Date().getFullYear();

// Set up sort buttons
document.querySelectorAll(".sort-btn").forEach(b => {
  b.onclick = () => {
    document.querySelectorAll(".sort-btn").forEach(x => x.classList.remove("active"));
    b.classList.add("active");
    currentSort = b.dataset.sort;
    sortLessons();
  };
});

// Fetch lessons from Google Apps Script
fetch(API_URL)
  .then(r => r.json())
  .then(data => {
    allLessons = data;
    updateStats();
    sortLessons();
  })
  .catch(() => showError());

function updateStats() {
  totalLessonsEl.textContent = allLessons.length.toLocaleString('ar-EG');
  totalViewsEl.textContent = allLessons.reduce((s, l) => s + (+l.views || 0), 0).toLocaleString('ar-EG');
  
  // Update last update date
  if (allLessons.length > 0) {
    const dates = allLessons.map(l => new Date(l.publish_date)).filter(d => !isNaN(d));
    if (dates.length > 0) {
      const latestDate = new Date(Math.max(...dates));
      lastUpdateEl.textContent = latestDate.toLocaleDateString('ar-EG');
    }
  }
}

function sortLessons() {
  let l = [...allLessons];
  if (currentSort === "views") {
    l.sort((a, b) => (+b.views || 0) - (+a.views || 0));
  } else if (currentSort === "oldest") {
    l.sort((a, b) => new Date(a.publish_date || 0) - new Date(b.publish_date || 0));
  } else {
    l.sort((a, b) => new Date(b.publish_date || 0) - new Date(a.publish_date || 0));
  }
  render(l);
}

function render(list) {
  lessonsEl.innerHTML = "";
  if (!list.length) return showEmpty();
  
  list.forEach(i => {
    const lessonElement = document.createElement('li');
    lessonElement.className = 'lesson-card';
    
    lessonElement.innerHTML = `
      <a class="lesson-link" href="${i.url}" target="_blank">
        <div class="lesson-title">${i.title || "Ø¯Ø±Ø³ Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†"}</div>
        <div class="lesson-meta">
          <span class="lesson-date">
            <i class="far fa-calendar-alt"></i> ${i.publish_date || "-"}
          </span>
          <span class="lesson-views">
            <i class="far fa-eye"></i> ${i.views || 0}
          </span>
        </div>
      </a>
      <div class="lesson-footer">
        <span style="color:var(--muted); font-size:0.85rem">
          <i class="fas fa-external-link-alt"></i> Ø§Ù†Ù‚Ø± Ù„ÙØªØ­ Ø§Ù„Ø¯Ø±Ø³
        </span>
        <a class="lesson-btn" href="${i.url}" target="_blank">
          <i class="fas fa-external-link-alt"></i> ÙØªØ­
        </a>
      </div>
    `;
    
    lessonsEl.appendChild(lessonElement);
  });
}

function showError() {
  lessonsEl.innerHTML = `
    <li class="error-state">
      <i class="fas fa-exclamation-triangle" style="font-size:3rem; color:var(--accent); margin-bottom:20px"></i>
      <h3>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
      <p>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
      <button onclick="location.reload()" style="margin-top:20px; padding:10px 25px; background:var(--primary); color:white; border:none; border-radius:var(--radius-sm); cursor:pointer">
        <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
      </button>
    </li>
  `;
}

function showEmpty() {
  lessonsEl.innerHTML = `
    <li class="empty-state">
      <i class="far fa-folder-open" style="font-size:3rem; color:var(--muted); margin-bottom:20px"></i>
      <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
      <p>Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±ÙˆØ³ Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>
    </li>
  `;
}

function closeAskPopup() {
  document.getElementById("askPopup").classList.remove("show");
}

// Show popup after 3 seconds
setTimeout(() => {
  document.getElementById("askPopup").classList.add("show");
}, 3000);

// Close popup when clicking outside
document.getElementById("askPopup").addEventListener('click', function(e) {
  if (e.target.classList.contains('ask-popup__backdrop')) {
    closeAskPopup();
  }
});

// Register service worker for PWA
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("sw.js").catch(err => {
      console.log("ServiceWorker registration failed: ", err);
    });
  });
}

// Add keyboard shortcut to open admin panel
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey && e.key === 'a') {
    document.querySelector('.admin-btn').click();
  }
});
</script>

</body>
</html>
