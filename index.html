<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ù…ÙˆØ§Ø¶ÙŠØ¹ Ù…Ù‡Ù…Ø© ÙÙŠ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ | Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</title>

  <!-- Ø®Ø· -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body{
      margin:0;
      font-family:"Cairo", sans-serif;
      background:#0a0a14;
      color:#f1f5f9;
    }

    .container{
      max-width:900px;
      margin:auto;
      padding:20px;
    }

    h1{
      text-align:center;
      color:#a78bfa;
      margin-bottom:8px;
    }

    p.subtitle{
      text-align:center;
      color:#cbd5e1;
      font-size:15px;
      margin-bottom:30px;
    }

    ul#lessons{
      list-style:none;
      padding:0;
      margin:0;
    }

    ul#lessons li{
      margin-bottom:14px;
    }

    a.lesson-link{
      display:block;
      padding:16px;
      background:rgba(139,92,246,0.15);
      border-radius:14px;
      color:#ffffff;
      text-decoration:none;
      font-weight:700;
      transition:0.3s;
    }

    a.lesson-link:hover{
      background:rgba(139,92,246,0.3);
      transform:translateY(-2px);
    }

    /* Ø²Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ */
    .contact-btn{
      position:fixed;
      bottom:20px;
      left:20px;
      width:56px;
      height:56px;
      border-radius:50%;
      background:#8b5cf6;
      color:#fff;
      font-size:24px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-decoration:none;
      box-shadow:0 10px 25px rgba(0,0,0,0.4);
      z-index:100;
    }

    /* Ø²Ø± Ø§Ù„Ø£Ø¯Ù…Ù† */
    .admin-btn{
      position:fixed;
      bottom:20px;
      right:20px;
      width:46px;
      height:46px;
      background:#1f2937;
      color:#e5e7eb;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:20px;
      text-decoration:none;
      box-shadow:0 8px 20px rgba(0,0,0,0.4);
      opacity:0.6;
      transition:0.3s;
      z-index:100;
    }

    .admin-btn:hover{
      opacity:1;
      transform:rotate(90deg);
    }
    .featured{
  border:2px solid #facc15;
  background:linear-gradient(135deg, rgba(250,204,21,.15), rgba(139,92,246,.2));
  position:relative;
}

.featured::before{
  content:"ğŸŒŸ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯";
  position:absolute;
  top:-12px;
  right:16px;
  background:#facc15;
  color:#000;
  font-size:12px;
  font-weight:700;
  padding:4px 10px;
  border-radius:20px;
}

.lesson-meta{
  margin-top:8px;
  font-size:13px;
  color:#e5e7eb;
}

  </style>
</head>

<body>

<div class="container">
  <h1>ğŸ“š Ø¯Ø±ÙˆØ³ Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</h1>
  <p class="subtitle">Ø§Ø®ØªØ± Ø§Ù„Ø¯Ø±Ø³ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø±Ø­ Ù…Ø¨Ø§Ø´Ø±Ø©</p>

  <ul id="lessons">
    <li>â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³...</li>
  </ul>
</div>

<!-- Ø²Ø± Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ -->
<a
  href="mailto:omk456456@gmail.com?subject=Ø§Ø³ØªÙØ³Ø§Ø±%20Ø­ÙˆÙ„%20Ø¯Ø±ÙˆØ³%20Ø§Ù„ØµÙ%20Ø§Ù„Ø®Ø§Ù…Ø³"
  class="contact-btn"
  title="Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
>
  ğŸ“§
</a>

<!-- Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø£Ø¯Ù…Ù† -->
<a
  href="admin.html"
  class="admin-btn"
  title="Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©"
>
  âš™ï¸
</a>

<script>
const API_URL = "PUT_YOUR_GOOGLE_APPS_SCRIPT_URL_HERE";

fetch(API_URL)
  .then(r => r.json())
  .then(data => {
    const list = document.getElementById("lessons");
    list.innerHTML = "";

    if (!data || data.length === 0) {
      list.innerHTML = "<li>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³</li>";
      return;
    }

    // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø± (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ù‹Ø§)
    data.sort((a,b)=> new Date(b.publish_date) - new Date(a.publish_date));

    data.forEach((lesson,index) => {
      list.innerHTML += `
        <li>
          <a class="lesson-link ${index===0 ? 'featured' : ''}"
             href="${lesson.url}"
             onclick="countView('${lesson.id}')">
             
            ${lesson.title}

            <div class="lesson-meta">
              ğŸ—“ï¸ ${lesson.publish_date}
              &nbsp; | &nbsp;
              âœï¸ ${lesson.author}
            </div>

          </a>
        </li>
      `;
    });
  });

function countView(id){
  fetch(API_URL,{
    method:"POST",
    body:JSON.stringify({ action:"view", id })
  });
}
</script>

</body>
</html>
