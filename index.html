<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¯Ø±ÙˆØ³ Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ | Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</title>

  <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}

    :root{
      --primary:#10b981;
      --secondary:#6366f1;
      --accent:#f59e0b;
      --dark:#0f172a;
      --darker:#020617;
      --light:#f8fafc;
      --glass:rgba(255,255,255,.75);
      --glass-dark:rgba(15,23,42,.05);
    }

    body{
      font-family:"Baloo Bhaijaan 2",sans-serif;
      background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#0f172a 100%);
      color:var(--light);
      min-height:100vh;
      padding:0;
      overflow-x:hidden;
      position:relative;
    }

    body::before{
      content:"";
      position:fixed;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:
        radial-gradient(circle at 20% 30%,rgba(16,185,129,.15),transparent 50%),
        radial-gradient(circle at 80% 70%,rgba(99,102,241,.15),transparent 50%),
        radial-gradient(circle at 50% 50%,rgba(245,158,11,.08),transparent 60%);
      pointer-events:none;
      z-index:0;
    }

    .container{
      max-width:1400px;
      margin:auto;
      padding:20px;
      position:relative;
      z-index:1;
    }

    /* ===== Header ===== */
    header{
      text-align:center;
      padding:80px 20px 60px;
      position:relative;
      margin-bottom:50px;
    }

    header::after{
      content:"";
      position:absolute;
      bottom:0;
      left:50%;
      transform:translateX(-50%);
      width:120px;
      height:4px;
      background:linear-gradient(90deg,var(--primary),var(--secondary),var(--accent));
      border-radius:10px;
      box-shadow:0 0 20px rgba(16,185,129,.5);
    }

    .header-badge{
      display:inline-block;
      background:linear-gradient(135deg,rgba(16,185,129,.2),rgba(99,102,241,.2));
      border:1px solid rgba(16,185,129,.3);
      padding:8px 20px;
      border-radius:50px;
      font-size:14px;
      font-weight:600;
      margin-bottom:20px;
      color:var(--primary);
      backdrop-filter:blur(10px);
    }

    header h1{
      font-size:3.5em;
      font-weight:800;
      background:linear-gradient(135deg,#10b981,#6366f1,#f59e0b);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      margin-bottom:18px;
      line-height:1.2;
      animation:glow 3s ease-in-out infinite;
    }

    @keyframes glow{
      0%,100%{filter:drop-shadow(0 0 20px rgba(16,185,129,.4))}
      50%{filter:drop-shadow(0 0 35px rgba(99,102,241,.6))}
    }

    header p{
      font-size:1.3em;
      color:rgba(248,250,252,.7);
      font-weight:500;
      max-width:600px;
      margin:auto;
    }

    /* ===== Admin Icon ===== */
    .admin-icon{
      position:fixed;
      top:30px;
      left:30px;
      width:56px;
      height:56px;
      border-radius:50%;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      text-decoration:none;
      box-shadow:0 10px 30px rgba(16,185,129,.4);
      z-index:1000;
      transition:.4s cubic-bezier(.34,1.56,.64,1);
      font-size:20px;
    }

    .admin-icon:hover{
      transform:scale(1.15) rotate(360deg);
      box-shadow:0 15px 40px rgba(99,102,241,.6);
    }

    /* ===== Filters ===== */
    .filters{
      display:flex;
      justify-content:center;
      gap:16px;
      margin-bottom:50px;
      flex-wrap:wrap;
    }

    .filter-btn{
      padding:14px 32px;
      border-radius:50px;
      border:2px solid rgba(248,250,252,.15);
      background:rgba(15,23,42,.6);
      backdrop-filter:blur(10px);
      font-weight:700;
      cursor:pointer;
      transition:.3s cubic-bezier(.34,1.56,.64,1);
      color:rgba(248,250,252,.8);
      font-size:15px;
      position:relative;
      overflow:hidden;
    }

    .filter-btn::before{
      content:"";
      position:absolute;
      top:50%;
      left:50%;
      width:0;
      height:0;
      border-radius:50%;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      transform:translate(-50%,-50%);
      transition:.5s;
      z-index:-1;
    }

    .filter-btn:hover::before{
      width:300px;
      height:300px;
    }

    .filter-btn:hover{
      transform:translateY(-3px);
      border-color:var(--primary);
      color:#fff;
      box-shadow:0 10px 25px rgba(16,185,129,.3);
    }

    .filter-btn.active{
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      color:#fff;
      border-color:transparent;
      box-shadow:0 10px 30px rgba(16,185,129,.5);
      transform:scale(1.05);
    }

    /* ===== Lessons Grid ===== */
    .lessons-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
      gap:30px;
      padding:0 10px;
    }

    .lesson-card{
      background:rgba(15,23,42,.7);
      backdrop-filter:blur(15px);
      border-radius:24px;
      padding:28px;
      display:flex;
      flex-direction:column;
      box-shadow:0 15px 40px rgba(0,0,0,.3);
      border:1px solid rgba(248,250,252,.1);
      transition:.4s cubic-bezier(.34,1.56,.64,1);
      position:relative;
      overflow:hidden;
      animation:fadeUp .6s ease both;
    }

    .lesson-card::before{
      content:"";
      position:absolute;
      top:-50%;
      right:-50%;
      width:200%;
      height:200%;
      background:radial-gradient(circle,rgba(16,185,129,.1),transparent 70%);
      opacity:0;
      transition:.5s;
    }

    .lesson-card:hover::before{
      opacity:1;
      animation:rotate 8s linear infinite;
    }

    @keyframes rotate{
      to{transform:rotate(360deg)}
    }

    .lesson-card:hover{
      transform:translateY(-10px) scale(1.02);
      box-shadow:0 25px 60px rgba(16,185,129,.4);
      border-color:rgba(16,185,129,.4);
    }

    .badge{
      font-size:13px;
      font-weight:800;
      padding:8px 18px;
      border-radius:50px;
      margin-bottom:18px;
      width:fit-content;
      color:#fff;
      position:relative;
      z-index:1;
      box-shadow:0 5px 15px rgba(0,0,0,.2);
    }

    .sem1{
      background:linear-gradient(135deg,#10b981,#059669);
    }

    .sem2{
      background:linear-gradient(135deg,#6366f1,#4f46e5);
    }

    .lesson-title{
      font-size:1.3em;
      font-weight:700;
      margin-bottom:14px;
      line-height:1.5;
      color:#fff;
      position:relative;
      z-index:1;
    }

    .meta{
      font-size:14px;
      color:rgba(248,250,252,.6);
      margin-bottom:24px;
      display:flex;
      align-items:center;
      gap:8px;
      position:relative;
      z-index:1;
    }

    .btn-lesson{
      margin-top:auto;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      border:none;
      border-radius:16px;
      padding:16px 24px;
      font-weight:700;
      color:#fff;
      text-decoration:none;
      text-align:center;
      transition:.3s;
      position:relative;
      z-index:1;
      font-size:15px;
      box-shadow:0 8px 20px rgba(16,185,129,.3);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
    }

    .btn-lesson:hover{
      transform:scale(1.05);
      box-shadow:0 12px 30px rgba(16,185,129,.5);
      background:linear-gradient(135deg,var(--secondary),var(--primary));
    }

    .loading,.empty{
      grid-column:1/-1;
      text-align:center;
      color:rgba(248,250,252,.6);
      padding:100px 20px;
      font-size:1.3em;
      font-weight:600;
    }

    footer{
      margin-top:80px;
      text-align:center;
      color:rgba(248,250,252,.5);
      font-size:15px;
      padding:30px;
      border-top:1px solid rgba(248,250,252,.1);
    }

    @keyframes fadeUp{
      from{opacity:0;transform:translateY(30px)}
      to{opacity:1;transform:none}
    }

    @media(max-width:768px){
      header h1{font-size:2.5em}
      .lessons-grid{grid-template-columns:1fr;gap:20px}
    }
  </style>
</head>

<body>
  <div class="container">

    <a href="admin.html" class="admin-icon" title="Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…">
      <i class="fas fa-user-graduate"></i>
    </a>

    <header>
      <div class="header-badge">ğŸ“š Ù…Ù†ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø©</div>
      <h1>Ø¯Ø±ÙˆØ³ Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</h1>
      <p>ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØªÙŠ ØªÙ†Ø´Ø± ÙÙŠ Ù…Ø¯ÙˆÙ†Ø© Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ Ø³ØªØ¬Ø¯Ù‡Ø§ Ù‡Ù†Ø§</p>
    </header>

    <div class="filters">
      <button class="filter-btn active" onclick="filterLessons('all',this)">
        <i class="fas fa-th"></i> Ø§Ù„ÙƒÙ„
      </button>
      <button class="filter-btn" onclick="filterLessons('1',this)">
        <i class="fas fa-book"></i> Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„
      </button>
      <button class="filter-btn" onclick="filterLessons('2',this)">
        <i class="fas fa-book-open"></i> Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ
      </button>
    </div>

    <div id="lessonsContainer" class="lessons-grid">
      <div class="loading">
        <i class="fas fa-spinner fa-spin" style="font-size:2em;margin-bottom:15px"></i>
        <br>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±ÙˆØ³...
      </div>
    </div>

    <footer>
      <i class="fas fa-heart" style="color:#f59e0b"></i>
      Â© <span id="year"></span> Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ
    </footer>

  </div>

  <script>
    const API="https://script.google.com/macros/s/AKfycbxuf794HZmIMIjofGEunan_GRJNH6Npn_fHcZsMZShss90Z4ilPRwpQjRVUGJd2fOSqnw/exec";
    let allLessons=[];
    document.getElementById("year").textContent=new Date().getFullYear();

    function loadLessons(){
      fetch(API,{method:"POST",body:JSON.stringify({action:"getPublic"})})
      .then(r=>r.json())
      .then(data=>{
        // Ø¹ÙƒØ³ Ø§Ù„ØªØ±ØªÙŠØ¨ Ù„ÙŠÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø¯Ù…
        allLessons=data.reverse();
        render(allLessons);
      });
    }

    function render(arr){
      const c=document.getElementById("lessonsContainer");
      c.innerHTML="";
      if(!arr.length){
        c.innerHTML='<div class="empty"><i class="fas fa-inbox" style="font-size:3em;margin-bottom:15px;opacity:.5"></i><br>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
        return;
      }
      arr.forEach((l,i)=>{
        const d=document.createElement("div");
        d.className="lesson-card";
        d.style.animationDelay=`${i*.1}s`;
        d.innerHTML=`
          <span class="badge ${l.semester==="1"?"sem1":"sem2"}">
            <i class="fas fa-bookmark"></i>
            ${l.semester==="1"?"Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„":"Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ"}
          </span>
          <div class="lesson-title">${l.title}</div>
          <div class="meta">
            <i class="fas fa-user-circle"></i>
            ${l.author||""}
          </div>
          <a class="btn-lesson" target="_blank" href="${l.url}">
            Ø§Ù†ØªÙ‚Ù„ Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹
            <i class="fas fa-arrow-left"></i>
          </a>
        `;
        c.appendChild(d);
      });
    }

    function filterLessons(f,el){
      document.querySelectorAll(".filter-btn").forEach(b=>b.classList.remove("active"));
      el.classList.add("active");
      // Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±ØªÙŠØ¨ Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ù„Ù„Ø£Ù‚Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„ÙÙ„ØªØ±Ø©
      const filtered = f==="all" ? allLessons : allLessons.filter(l=>l.semester===f);
      render(filtered);
    }

    loadLessons();
  </script>
</body>
</html>
