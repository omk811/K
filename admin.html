<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --primary:#10b981;
  --secondary:#6366f1;
  --accent:#f59e0b;
  --danger:#ef4444;
  --dark:#0f172a;
  --darker:#020617;
  --light:#f8fafc;
}

body{
  font-family:"Baloo Bhaijaan 2",sans-serif;
  background:linear-gradient(135deg,#0f172a 0%,#1e293b 50%,#0f172a 100%);
  color:var(--light);
  min-height:100vh;
  padding:0;
  overflow-x:hidden;
  position:relative;
}

body::before{
  content:"";
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:
    radial-gradient(circle at 20% 30%,rgba(16,185,129,.15),transparent 50%),
    radial-gradient(circle at 80% 70%,rgba(99,102,241,.15),transparent 50%),
    radial-gradient(circle at 50% 50%,rgba(245,158,11,.08),transparent 60%);
  pointer-events:none;
  z-index:0;
}

.container{
  max-width:1100px;
  margin:auto;
  padding:20px;
  position:relative;
  z-index:1;
}

/* ===== Buttons ===== */
.btn{
  padding:14px 24px;
  border-radius:16px;
  border:none;
  cursor:pointer;
  font-weight:700;
  transition:.3s cubic-bezier(.34,1.56,.64,1);
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-size:15px;
}

.btn:hover{
  transform:translateY(-2px) scale(1.02);
}

.btn-primary{
  background:linear-gradient(135deg,var(--secondary),#4f46e5);
  color:#fff;
  box-shadow:0 8px 20px rgba(99,102,241,.3);
}

.btn-primary:hover{
  box-shadow:0 12px 30px rgba(99,102,241,.5);
}

.btn-success{
  background:linear-gradient(135deg,var(--primary),#059669);
  color:#fff;
  box-shadow:0 8px 20px rgba(16,185,129,.3);
}

.btn-success:hover{
  box-shadow:0 12px 30px rgba(16,185,129,.5);
}

.btn-danger{
  background:linear-gradient(135deg,var(--danger),#dc2626);
  color:#fff;
  box-shadow:0 8px 20px rgba(239,68,68,.3);
  font-size:13px;
  padding:10px 18px;
}

.btn-danger:hover{
  box-shadow:0 12px 30px rgba(239,68,68,.5);
}

/* ===== Login Card ===== */
.login-card{
  max-width:450px;
  margin:120px auto;
  background:rgba(15,23,42,.8);
  backdrop-filter:blur(20px);
  padding:50px 40px;
  border-radius:32px;
  text-align:center;
  border:1px solid rgba(248,250,252,.1);
  box-shadow:0 25px 60px rgba(0,0,0,.4);
  animation:fadeUp .6s ease;
}

.login-card h2{
  font-size:2.2em;
  margin-bottom:12px;
  background:linear-gradient(135deg,var(--primary),var(--secondary));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  font-weight:800;
}

.login-card p{
  color:rgba(248,250,252,.6);
  margin-bottom:30px;
}

input,select{
  width:100%;
  padding:16px 20px;
  margin-bottom:16px;
  border-radius:16px;
  border:1px solid rgba(248,250,252,.15);
  background:rgba(2,6,23,.6);
  backdrop-filter:blur(10px);
  color:#fff;
  font-size:15px;
  font-family:inherit;
  transition:.3s;
}

input:focus,select:focus{
  outline:none;
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(16,185,129,.2);
}

input::placeholder{
  color:rgba(248,250,252,.4);
}

.hidden{display:none}

/* ===== Panel Header ===== */
.panel-header{
  background:rgba(15,23,42,.8);
  backdrop-filter:blur(20px);
  padding:40px 30px;
  border-radius:32px;
  margin-bottom:30px;
  text-align:center;
  position:relative;
  border:1px solid rgba(248,250,252,.1);
  box-shadow:0 15px 40px rgba(0,0,0,.3);
}

.panel-header h2{
  font-size:2.5em;
  font-weight:800;
  background:linear-gradient(135deg,var(--primary),var(--secondary),var(--accent));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  margin-bottom:10px;
}

.panel-header p{
  color:rgba(248,250,252,.6);
  font-size:1.1em;
}

.icon{
  position:absolute;
  top:25px;
  width:52px;
  height:52px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  color:#fff;
  font-size:20px;
  transition:.4s cubic-bezier(.34,1.56,.64,1);
  border:2px solid rgba(255,255,255,.1);
}

.icon:hover{
  transform:scale(1.15) rotate(-10deg);
}

.home{
  right:25px;
  background:linear-gradient(135deg,var(--secondary),#4f46e5);
  box-shadow:0 8px 20px rgba(99,102,241,.4);
}

.home:hover{
  box-shadow:0 12px 30px rgba(99,102,241,.6);
}

.refresh{
  left:25px;
  background:linear-gradient(135deg,var(--primary),#059669);
  box-shadow:0 8px 20px rgba(16,185,129,.4);
}

.refresh:hover{
  box-shadow:0 12px 30px rgba(16,185,129,.6);
  animation:spin .5s ease;
}

@keyframes spin{
  to{transform:scale(1.15) rotate(360deg)}
}

/* ===== Cards ===== */
.card{
  background:rgba(15,23,42,.8);
  backdrop-filter:blur(20px);
  border-radius:28px;
  padding:35px 30px;
  margin-bottom:30px;
  border:1px solid rgba(248,250,252,.1);
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  animation:fadeUp .6s ease both;
}

.card h3{
  font-size:1.6em;
  margin-bottom:25px;
  color:#fff;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:12px;
}

/* ===== Lessons List ===== */
.lesson{
  background:rgba(2,6,23,.7);
  backdrop-filter:blur(15px);
  border-radius:20px;
  padding:24px;
  margin-bottom:16px;
  border:1px solid rgba(248,250,252,.1);
  transition:.3s cubic-bezier(.34,1.56,.64,1);
  position:relative;
  overflow:hidden;
}

.lesson::before{
  content:"";
  position:absolute;
  top:0;
  right:0;
  width:4px;
  height:100%;
  background:linear-gradient(180deg,var(--primary),var(--secondary));
  opacity:0;
  transition:.3s;
}

.lesson:hover::before{
  opacity:1;
}

.lesson:hover{
  transform:translateX(-8px);
  border-color:rgba(16,185,129,.3);
  box-shadow:0 10px 30px rgba(0,0,0,.3);
}

.lesson b{
  font-size:1.15em;
  color:#fff;
  display:block;
  margin-bottom:8px;
  font-weight:700;
}

.lesson small{
  display:inline-block;
  padding:6px 14px;
  border-radius:50px;
  font-size:13px;
  font-weight:700;
  margin-bottom:12px;
}

.sem1-badge{
  background:linear-gradient(135deg,rgba(16,185,129,.2),rgba(16,185,129,.3));
  color:var(--primary);
  border:1px solid rgba(16,185,129,.3);
}

.sem2-badge{
  background:linear-gradient(135deg,rgba(99,102,241,.2),rgba(99,102,241,.3));
  color:var(--secondary);
  border:1px solid rgba(99,102,241,.3);
}

.actions{
  display:flex;
  gap:10px;
  margin-top:12px;
}

#loginMsg{
  margin-top:15px;
  color:var(--danger);
  font-weight:600;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:none}
}

/* ===== Responsive ===== */
@media(max-width:768px){
  .login-card{
    margin:80px 20px;
    padding:40px 30px;
  }
  
  .panel-header h2{
    font-size:2em;
  }
  
  .icon{
    width:45px;
    height:45px;
    font-size:18px;
  }
  
  .card{
    padding:25px 20px;
  }
  
  .lesson{
    padding:20px;
  }
}
</style>
</head>

<body>
<div class="container">

<div id="loginBox" class="login-card">
  <h2>ğŸ” Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
  <p>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</p>
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button class="btn btn-primary" onclick="login()">
    <i class="fas fa-sign-in-alt"></i>
    Ø¯Ø®ÙˆÙ„
  </button>
  <div id="loginMsg"></div>
</div>

<div id="panel" class="hidden">
  <div class="panel-header">
    <div class="icon home" onclick="goHome()" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      <i class="fas fa-home"></i>
    </div>
    <div class="icon refresh" onclick="load()" title="ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">
      <i class="fas fa-sync-alt"></i>
    </div>
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø±ÙˆØ³</h2>
    <p>Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</p>
  </div>

  <div class="card" style="animation-delay:.1s">
    <h3>
      <i class="fas fa-plus-circle"></i>
      Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯
    </h3>
    <input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³">
    <input id="url" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø±Ø³">
    <input id="author" value="Ø§Ù„Ø£Ø³ØªØ§Ø° Ø®Ù„ÙŠÙ„ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ">
    <select id="semester">
      <option value="1">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„</option>
      <option value="2">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ</option>
    </select>
    <button class="btn btn-success" onclick="add()">
      <i class="fas fa-paper-plane"></i>
      Ù†Ø´Ø± Ø§Ù„Ø¯Ø±Ø³
    </button>
  </div>

  <div class="card" style="animation-delay:.2s">
    <h3>
      <i class="fas fa-list-ul"></i>
      Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©
    </h3>
    <div id="list"></div>
  </div>
</div>

</div>

<script>
const API="https://script.google.com/macros/s/AKfycbxuf794HZmIMIjofGEunan_GRJNH6Npn_fHcZsMZShss90Z4ilPRwpQjRVUGJd2fOSqnw/exec";
let PASS="";

function login(){
  PASS=pass.value;
  fetch(API,{method:"POST",body:JSON.stringify({action:"get",password:PASS})})
  .then(r=>r.json())
  .then(d=>{
    if(d.error) loginMsg.innerHTML='<i class="fas fa-exclamation-circle"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
    else{
      loginBox.classList.add("hidden");
      panel.classList.remove("hidden");
      load();
    }
  });
}

function load(){
  list.innerHTML='<div style="text-align:center;padding:30px;color:rgba(248,250,252,.6)"><i class="fas fa-spinner fa-spin" style="font-size:2em"></i><br><br>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>';
  fetch(API,{method:"POST",body:JSON.stringify({action:"get",password:PASS})})
  .then(r=>r.json())
  .then(data=>{
    list.innerHTML="";
    const lessons = data.filter(l=>l.status!=="DELETED");
    
    if(lessons.length === 0){
      list.innerHTML='<div style="text-align:center;padding:40px;color:rgba(248,250,252,.5)"><i class="fas fa-inbox" style="font-size:3em;margin-bottom:15px;opacity:.3"></i><br>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³ Ù…Ù†Ø´ÙˆØ±Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
      return;
    }
    
    lessons.forEach(l=>{
      const div=document.createElement("div");
      div.className="lesson";
      div.innerHTML=`
        <b>${l.title}</b>
        <small class="${l.semester==="1"?"sem1-badge":"sem2-badge"}">
          <i class="fas fa-bookmark"></i>
          ${l.semester==="1"?"Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„":"Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ"}
        </small>
        <div class="actions">
          <button class="btn btn-danger" onclick="del('${l.id}')">
            <i class="fas fa-eye-slash"></i>
            Ø¥Ø®ÙØ§Ø¡
          </button>
        </div>
      `;
      list.appendChild(div);
    });
  });
}

function add(){
  const titleVal = title.value.trim();
  const urlVal = url.value.trim();
  
  if(!titleVal || !urlVal){
    alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³ ÙˆØ§Ù„Ø±Ø§Ø¨Ø·');
    return;
  }
  
  fetch(API,{method:"POST",body:JSON.stringify({
    action:"add",password:PASS,
    title:titleVal,url:urlVal,
    author:author.value,semester:semester.value
  })}).then(()=>{
    title.value="";
    url.value="";
    load();
  });
}

function del(id){
  if(!confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø®ÙØ§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ Ù…Ù† Ø§Ù„Ø·Ù„Ø§Ø¨ØŸ"))return;
  fetch(API,{method:"POST",body:JSON.stringify({
    action:"toggle",password:PASS,id:id,status:"DELETED"
  })}).then(load);
}

function goHome(){location.href="./index.html";}

// Enter key support for login
document.addEventListener('DOMContentLoaded', function(){
  const passInput = document.getElementById('pass');
  if(passInput){
    passInput.addEventListener('keypress', function(e){
      if(e.key === 'Enter') login();
    });
  }
});
</script>
</body>
</html>
